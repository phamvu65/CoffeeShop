<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>

<BorderPane prefHeight="800.0" prefWidth="1040.0" styleClass="root" stylesheets="@../css/style.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.vuxnye.coffeeshop.controller.POSController">

    <center>
        <VBox spacing="20.0" BorderPane.alignment="CENTER">
            <padding>
                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
            </padding>
            <children>
                <HBox alignment="CENTER_LEFT" spacing="20.0">
                    <children>
                        <VBox>
                            <children>
                                <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Hệ thống BaristaFlow" />
                                <Label style="-fx-text-fill: #94A3B8;" text="Chọn món cho khách hàng" />
                            </children>
                        </VBox>
                        <Pane HBox.hgrow="ALWAYS" />

                        <HBox alignment="CENTER_LEFT" prefWidth="300.0" styleClass="search-bar">
                            <children>
                                <SVGPath content="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#94a3b8" scaleX="0.8" scaleY="0.8" />
                                <TextField fx:id="txtSearch" promptText="Bạn muốn tìm món gì?" styleClass="search-field" HBox.hgrow="ALWAYS" />
                            </children>
                        </HBox>

                        <ComboBox fx:id="cbCategory" promptText="Tất cả" styleClass="filter-combo" />
                    </children>
                </HBox>

                <ScrollPane fitToWidth="true" hbarPolicy="NEVER" style="-fx-background-color: transparent;" vbarPolicy="AS_NEEDED" VBox.vgrow="ALWAYS">
                    <content>
                        <GridPane fx:id="gridProducts" hgap="20.0" vgap="20.0">
                            <rowConstraints>
                                <RowConstraints minHeight="10.0" prefHeight="30.0" />
                            </rowConstraints>
                        </GridPane>
                    </content>
                </ScrollPane>
            </children>
        </VBox>
    </center>

    <right>
        <VBox prefWidth="380.0" spacing="15.0" styleClass="cart-panel" BorderPane.alignment="CENTER">
            <padding>
                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
            </padding>
            <children>
                <HBox alignment="CENTER_LEFT">
                    <children>
                        <Pane style="-fx-background-color: #EFF6FF; -fx-background-radius: 5; -fx-padding: 5;">
                            <children>
                                <SVGPath content="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" fill="#4A90E2" layoutY="2" scaleX="0.8" scaleY="0.8"/>
                            </children>
                        </Pane>
                        <Label style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #1E293B;" text="  Giỏ hàng" />
                        <Pane HBox.hgrow="ALWAYS" />

                        <ComboBox fx:id="cbOrderType" promptText="Mang về" style="-fx-background-color: transparent; -fx-border-color: #E2E8F0; -fx-border-radius: 5;" />
                    </children>
                </HBox>

                <Separator />

                <TableView fx:id="tblCart" styleClass="cart-table" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colName" prefWidth="120.0" text="Món" />
                        <TableColumn fx:id="colQty" prefWidth="110.0" style="-fx-alignment: CENTER;" text="Số lượng" />
                        <TableColumn fx:id="colPrice" prefWidth="80.0" style="-fx-alignment: CENTER_RIGHT;" text="Tiền" />
                        <TableColumn fx:id="colDelete" prefWidth="35.0" style="-fx-alignment: CENTER;" text="" />
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>

                <Separator />

                <VBox spacing="10.0">
                    <children>
                        <HBox>
                            <children>
                                <Label style="-fx-text-fill: #64748B;" text="Tạm tính" />
                                <Pane HBox.hgrow="ALWAYS" />
                                <Label fx:id="lblSubtotal" style="-fx-font-weight: bold;" text="0 đ" />
                            </children>
                        </HBox>
                        <HBox>
                            <children>
                                <Label style="-fx-text-fill: #64748B;" text="Thuế (10%)" />
                                <Pane HBox.hgrow="ALWAYS" />
                                <Label fx:id="lblTax" style="-fx-font-weight: bold;" text="0 đ" />
                            </children>
                        </HBox>
                        <HBox alignment="CENTER_LEFT">
                            <children>
                                <Label style="-fx-font-size: 14px; -fx-font-weight: bold;" text="TỔNG CỘNG" />
                                <Pane HBox.hgrow="ALWAYS" />
                                <Label fx:id="lblTotal" styleClass="lbl-total-price" text="0 đ" />
                            </children>
                        </HBox>
                    </children>
                </VBox>

                <Button onAction="#handleOpenCheckout" maxWidth="1.7976931348623157E308" minHeight="50.0" mnemonicParsing="false" styleClass="btn-checkout" text="THANH TOÁN" />
            </children>
        </VBox>
    </right>
</BorderPane>