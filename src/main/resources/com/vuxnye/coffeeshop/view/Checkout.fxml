<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>

<VBox prefWidth="500.0" spacing="0.0" style="-fx-background-color: white; -fx-background-radius: 20; -fx-border-color: #e2e8f0; -fx-border-radius: 20; -fx-border-width: 1;" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.vuxnye.coffeeshop.controller.CheckoutController">

    <HBox alignment="CENTER_LEFT" style="-fx-border-color: transparent transparent #f1f5f9 transparent; -fx-padding: 20;">
        <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #1e293b;" text="Xác nhận đơn hàng" />
        <HBox HBox.hgrow="ALWAYS" />
        <Button onAction="#closeModal" style="-fx-background-color: #f8fafc; -fx-text-fill: #94a3b8; -fx-cursor: hand;" text="X" />
    </HBox>

    <VBox spacing="20.0" style="-fx-padding: 30;">

        <VBox spacing="10.0">
            <Label styleClass="label-mini" text="KHÁCH HÀNG THÀNH VIÊN" />
            <HBox spacing="10.0">
                <TextField fx:id="txtPhone" promptText="Nhập số điện thoại..." styleClass="input-field" HBox.hgrow="ALWAYS" />
                <Button onAction="#findCustomer" styleClass="btn-blue-sm" text="TÌM" />
            </HBox>

            <HBox fx:id="boxCustomerInfo" alignment="CENTER_LEFT" spacing="10.0" style="-fx-background-color: #ecfdf5; -fx-padding: 10; -fx-background-radius: 10; -fx-border-color: #10b981; -fx-border-radius: 10;" visible="false" managed="false">
                <VBox>
                    <Label fx:id="lblCustName" style="-fx-font-weight: bold; -fx-text-fill: #064e3b;" text="Nguyễn Văn A" />
                    <Label fx:id="lblCustPoints" style="-fx-font-size: 11px; -fx-text-fill: #059669;" text="Điểm: 120" />
                </VBox>
                <HBox HBox.hgrow="ALWAYS" />
                <Button onAction="#usePoints" style="-fx-background-color: #10b981; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 10px;" text="DÙNG ĐIỂM" />
            </HBox>
        </VBox>

        <VBox alignment="CENTER" spacing="5.0" style="-fx-background-color: #eff6ff; -fx-padding: 20; -fx-background-radius: 20; -fx-border-color: #dbeafe; -fx-border-radius: 20;">
            <Label styleClass="label-mini" text="TỔNG TIỀN THANH TOÁN" />
            <Label fx:id="lblTotal" style="-fx-font-size: 32px; -fx-font-weight: 900; -fx-text-fill: #3b82f6;" text="0 đ" />
        </VBox>

        <HBox spacing="15.0">
            <Button onAction="#payCash" maxWidth="1.7976931348623157E308" prefHeight="80.0" styleClass="btn-payment" HBox.hgrow="ALWAYS">
                <graphic>
                    <VBox alignment="CENTER" spacing="5">
                        <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.95V5h-2.93v2.63c-1.71.49-2.46 1.37-2.46 2.37 0 1.28 1.04 2.19 3.21 2.72 1.97.46 2.45 1.15 2.45 1.92 0 .91-.84 1.5-2.22 1.5-1.55 0-2.23-.74-2.3-1.8H6.96c.07 1.64 1.13 2.66 2.7 3.03V19h2.93v-2.73c1.92-.53 2.61-1.44 2.61-2.43 0-1.49-1.21-2.38-2.89-2.7z" fill="#10b981" />
                        <Label text="TIỀN MẶT" style="-fx-font-weight: bold; -fx-text-fill: #334155;"/>
                    </VBox>
                </graphic>
            </Button>

            <Button onAction="#payBank" maxWidth="1.7976931348623157E308" prefHeight="80.0" styleClass="btn-payment" HBox.hgrow="ALWAYS">
                <graphic>
                    <VBox alignment="CENTER" spacing="5">
                        <SVGPath content="M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z" fill="#3b82f6" />
                        <Label text="CHUYỂN KHOẢN" style="-fx-font-weight: bold; -fx-text-fill: #334155;"/>
                    </VBox>
                </graphic>
            </Button>
        </HBox>

    </VBox>
</VBox>