<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.shape.SVGPath?>

<?import javafx.scene.layout.Region?>
<AnchorPane prefHeight="768.0" prefWidth="1024.0" style="-fx-background-color: #F1F5F9;" styleClass="root" stylesheets="@../css/style.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.vuxnye.coffeeshop.controller.LoginController">
    <children>
        <StackPane layoutX="312.0" layoutY="100.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <children>

                <VBox alignment="TOP_CENTER" maxHeight="-Infinity" maxWidth="-Infinity" prefWidth="440.0" spacing="0.0" style="-fx-background-color: white; -fx-background-radius: 20;" styleClass="main-card">

                    <effect>
                        <DropShadow blurType="GAUSSIAN" height="40.0" offsetY="10.0" radius="19.5" width="40.0">
                            <color>
                                <Color opacity="0.15" />
                            </color>
                        </DropShadow>
                    </effect>

                    <children>

                        <VBox alignment="CENTER" spacing="10.0">
                            <children>
                                <StackPane maxHeight="-Infinity" maxWidth="-Infinity" prefHeight="100.0" prefWidth="100.0" style="-fx-background-color: #4A90E2; -fx-background-radius: 50;">
                                    <children>
                                        <Region prefHeight="60.0" prefWidth="60.0"
                                                style="-fx-background-color: WHITE; -fx-shape: 'M450-80v-187q-47 24-94 46.5T256-198q-60.47 0-113.73-25.5Q89-249 40-282q41-40 89.5-68.5T235-384q-78-52-115.5-138T73-702q78-2 149.5 26.5T350-592q-2-9-2-18.33V-629q0-91 37.5-173T472-960q59 72 99.5 155T612-629q0 9.33-.5 18.67Q611-601 610-592q56-55 128-83.5T888-702q-10 94-47 179.5T726-384q57 5 105 34t89 68q-49 34-102.5 59T704-198q-52.88 0-99.94-22.5Q557-243 510-267v187h-60Zm-52-295q-13-46-32-90t-51-79q-32-33-73.5-52.5T155-630q12 47 30.5 90.5T237-461q32 34 74 53.5t87 32.5ZM255.5-258q28.5 0 54.5-10t52-22q-26-12-51.5-23.5T256-325q-29 0-54.5 10.5T150-292q24 14 50.5 24t55 10ZM482-380q36-56 53-119.5T552-629q0-60.21-21.5-115.1Q509-799 480-850q-30 51-51 105.9-21 54.89-21 115.1 0 66 21 128.5T482-380Zm81 5q45-13 86.5-33t73.5-53q32-35 50.5-79t31.5-90q-45 14-86.5 33.5T645-544q-34 35-52.5 78.5T563-375Zm141 117q28 0 54-10t52-22q-26-12-51.5-23.5T704-325q-29 0-54.5 11.5T598-290q26 12 52 22t54 10ZM398-375Zm-36 85Zm120-90Zm81 5Zm35 85Z';" />
                                    </children>
                                    <VBox.margin>
                                        <Insets bottom="10.0" />
                                    </VBox.margin>
                                </StackPane>
                                <Label style="-fx-font-size: 28px; -fx-font-weight: 900; -fx-text-fill: #1E293B;" text="BaristaFlow" />
                                <Label style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #94A3B8; -fx-letter-spacing: 2;" text="QUẢN LÝ QUÁN CAFE CHUYÊN NGHIỆP" />
                            </children>
                            <padding>
                                <Insets bottom="30.0" top="40.0" />
                            </padding>
                        </VBox>

                        <StackPane>
                            <children>

                                <VBox fx:id="loginForm" spacing="20.0" style="-fx-background-color: white;">
                                    <children>
                                        <VBox alignment="CENTER" spacing="5.0">
                                            <children>
                                                <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #334155;" text="Chào mừng trở lại!" />
                                                <Label style="-fx-text-fill: #64748B; -fx-font-size: 14px;" text="Đăng nhập để bắt đầu phiên làm việc" />
                                            </children>
                                            <VBox.margin>
                                                <Insets bottom="10.0" />
                                            </VBox.margin>
                                        </VBox>

                                        <VBox spacing="8.0">
                                            <children>
                                                <Label styleClass="label-field" text="TÊN ĐĂNG NHẬP" />
                                                <HBox fx:id="boxUsername" alignment="CENTER_LEFT" prefHeight="50.0" styleClass="input-group">
                                                    <children>
                                                        <SVGPath content="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" scaleX="1.2" scaleY="1.2" styleClass="icon-gray" />
                                                        <TextField fx:id="txtUsername" promptText="admin" style="-fx-font-size: 14px;" styleClass="text-input" HBox.hgrow="ALWAYS">
                                                            <HBox.margin>
                                                                <Insets left="10.0" />
                                                            </HBox.margin>
                                                        </TextField>
                                                    </children>
                                                </HBox>
                                            </children>
                                        </VBox>

                                        <VBox spacing="8.0">
                                            <children>
                                                <Label styleClass="label-field" text="MẬT KHẨU" />
                                                <HBox fx:id="boxPassword" alignment="CENTER_LEFT" prefHeight="50.0" styleClass="input-group">
                                                    <children>
                                                        <SVGPath content="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" scaleX="1.2" scaleY="1.2" styleClass="icon-gray" />
                                                        <PasswordField fx:id="txtPassword" promptText="••••••••" style="-fx-font-size: 14px;" styleClass="text-input" HBox.hgrow="ALWAYS">
                                                            <HBox.margin>
                                                                <Insets left="10.0" />
                                                            </HBox.margin>
                                                        </PasswordField>
                                                    </children>
                                                </HBox>
                                            </children>
                                        </VBox>

                                        <HBox alignment="CENTER_LEFT">
                                            <children>
                                                <CheckBox mnemonicParsing="false" style="-fx-text-fill: #64748B; -fx-font-size: 13px; -fx-font-weight: bold;" text="Ghi nhớ" />
                                                <HBox HBox.hgrow="ALWAYS" />
                                                <Button mnemonicParsing="false" onAction="#showForgotPassword" style="-fx-font-size: 13px;" styleClass="btn-link" text="QUÊN MẬT KHẨU?" />
                                            </children>
                                        </HBox>

                                        <Button defaultButton="true" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleLogin" style="-fx-font-size: 14px; -fx-padding: 12 20;" styleClass="btn-primary" text="BẮT ĐẦU LÀM VIỆC" />
                                    </children>
                                    <padding>
                                        <Insets bottom="40.0" left="40.0" right="40.0" />
                                    </padding>
                                </VBox>

                                <VBox fx:id="forgotForm" spacing="20.0" style="-fx-background-color: white;" visible="false">
                                    <children>
                                        <VBox alignment="CENTER" spacing="5.0">
                                            <children>
                                                <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #334155;" text="Khôi phục mật khẩu" />
                                                <Label style="-fx-text-fill: #64748B; -fx-font-size: 14px;" text="Nhập email để nhận hướng dẫn" />
                                            </children>
                                            <VBox.margin>
                                                <Insets bottom="10.0" />
                                            </VBox.margin>
                                        </VBox>

                                        <VBox spacing="8.0">
                                            <children>
                                                <Label styleClass="label-field" text="EMAIL / SĐT" />
                                                <HBox fx:id="boxEmail" alignment="CENTER_LEFT" prefHeight="50.0" styleClass="input-group">
                                                    <children>
                                                        <SVGPath content="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" scaleX="1.2" scaleY="1.2" styleClass="icon-gray" />
                                                        <TextField fx:id="txtForgotEmail" promptText="admin@coffee.com" style="-fx-font-size: 14px;" styleClass="text-input" HBox.hgrow="ALWAYS">
                                                            <HBox.margin>
                                                                <Insets left="10.0" />
                                                            </HBox.margin>
                                                        </TextField>
                                                    </children>
                                                </HBox>
                                            </children>
                                        </VBox>

                                        <HBox style="-fx-background-color: #EFF6FF; -fx-background-radius: 8; -fx-padding: 15;">
                                            <children>
                                                <Label style="-fx-font-size: 12px; -fx-text-fill: #3B82F6; -fx-font-weight: bold;" text="* Mật khẩu mới sẽ được gửi về email của bạn." wrapText="true" />
                                            </children>
                                        </HBox>

                                        <VBox spacing="10.0">
                                            <children>
                                                <Button maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleSendRequest" style="-fx-padding: 12 20;" styleClass="btn-secondary" text="GỬI YÊU CẦU" />
                                                <Button maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showLoginForm" style="-fx-background-color: transparent; -fx-text-fill: #64748B; -fx-font-weight: bold; -fx-cursor: hand;" text="← QUAY LẠI ĐĂNG NHẬP" />
                                            </children>
                                        </VBox>
                                    </children>
                                    <padding>
                                        <Insets bottom="40.0" left="40.0" right="40.0" />
                                    </padding>
                                </VBox>
                            </children>
                        </StackPane>
                    </children>
                </VBox>
            </children>
        </StackPane>
    </children>
</AnchorPane>