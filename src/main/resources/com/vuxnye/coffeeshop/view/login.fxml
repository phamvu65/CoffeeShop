<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>

<AnchorPane prefHeight="768.0" prefWidth="1024.0" styleClass="root" stylesheets="@../css/style.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.vuxnye.coffeeshop.controller.LoginController">
    <children>
        <StackPane layoutX="312.0" layoutY="100.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <children>
                <VBox alignment="TOP_CENTER" maxHeight="-Infinity" maxWidth="-Infinity" prefWidth="420.0" spacing="0.0" styleClass="main-card">
                    <children>

                        <VBox alignment="CENTER" spacing="5.0">
                            <children>
                                <StackPane maxHeight="-Infinity" maxWidth="-Infinity" prefHeight="70.0" prefWidth="70.0" styleClass="logo-container">
                                    <children>
                                        <SVGPath content="M18.5,4h-13C4.1,4,3,5.1,3,6.5v9C3,16.9,4.1,18,5.5,18h13c1.4,0,2.5-1.1,2.5-2.5v-9C21,5.1,19.9,4,18.5,4z M6,6h12v1H6V6z M6,9h12v1H6V9z M6,12h12v1H6V12z M17,20H7v-1h10V20z" scaleX="1.8" scaleY="1.8" styleClass="icon-white" />
                                    </children>
                                    <VBox.margin>
                                        <Insets bottom="15.0" />
                                    </VBox.margin>
                                </StackPane>
                                <Label style="-fx-font-size: 26px; -fx-font-weight: 900; -fx-text-fill: #1E293B;" text="BaristaFlow" />
                                <Label style="-fx-font-size: 11px; -fx-font-weight: bold; -fx-text-fill: #94A3B8; -fx-letter-spacing: 2;" text="HỆ THỐNG QUẢN LÝ" />
                            </children>
                            <padding>
                                <Insets bottom="30.0" />
                            </padding>
                        </VBox>

                        <StackPane>
                            <children>

                                <VBox fx:id="loginForm" spacing="20.0" style="-fx-background-color: white;">
                                    <children>
                                        <VBox alignment="CENTER" spacing="2.0">
                                            <children>
                                                <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #334155;" text="Chào mừng trở lại!" />
                                                <Label style="-fx-text-fill: #94A3B8; -fx-font-size: 13px;" text="Đăng nhập để bắt đầu phiên làm việc" />
                                            </children>
                                            <VBox.margin>
                                                <Insets bottom="10.0" />
                                            </VBox.margin>
                                        </VBox>

                                        <VBox spacing="6.0">
                                            <children>
                                                <Label styleClass="label-field" text="TÊN ĐĂNG NHẬP" />
                                                <HBox fx:id="boxUsername" alignment="CENTER_LEFT" prefHeight="50.0" styleClass="input-group">
                                                    <children>
                                                        <SVGPath content="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" scaleX="1.2" scaleY="1.2" styleClass="icon-gray" />
                                                        <TextField fx:id="txtUsername" promptText="admin" styleClass="text-input" HBox.hgrow="ALWAYS">
                                                            <HBox.margin>
                                                                <Insets left="10.0" />
                                                            </HBox.margin>
                                                        </TextField>
                                                    </children>
                                                </HBox>
                                            </children>
                                        </VBox>

                                        <VBox spacing="6.0">
                                            <children>
                                                <Label styleClass="label-field" text="MẬT KHẨU" />
                                                <HBox fx:id="boxPassword" alignment="CENTER_LEFT" prefHeight="50.0" styleClass="input-group">
                                                    <children>
                                                        <SVGPath content="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" scaleX="1.2" scaleY="1.2" styleClass="icon-gray" />
                                                        <PasswordField fx:id="txtPassword" promptText="••••••••" styleClass="text-input" HBox.hgrow="ALWAYS">
                                                            <HBox.margin>
                                                                <Insets left="10.0" />
                                                            </HBox.margin>
                                                        </PasswordField>
                                                    </children>
                                                </HBox>
                                            </children>
                                        </VBox>

                                        <HBox alignment="CENTER_LEFT">
                                            <children>
                                                <CheckBox mnemonicParsing="false" style="-fx-text-fill: #64748B; -fx-font-size: 12px; -fx-font-weight: bold;" text="Ghi nhớ" />
                                                <HBox HBox.hgrow="ALWAYS" />
                                                <Button mnemonicParsing="false" onAction="#showForgotPassword" styleClass="btn-link" text="QUÊN MẬT KHẨU?" />
                                            </children>
                                        </HBox>

                                        <Button defaultButton="true" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleLogin" styleClass="btn-primary" text="BẮT ĐẦU LÀM VIỆC" />
                                    </children>
                                </VBox>

                                <VBox fx:id="forgotForm" spacing="20.0" style="-fx-background-color: white;" visible="false">
                                    <children>
                                        <VBox alignment="CENTER" spacing="2.0">
                                            <children>
                                                <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #334155;" text="Khôi phục mật khẩu" />
                                                <Label style="-fx-text-fill: #94A3B8; -fx-font-size: 13px;" text="Nhập email để nhận hướng dẫn" />
                                            </children>
                                            <VBox.margin>
                                                <Insets bottom="10.0" />
                                            </VBox.margin>
                                        </VBox>

                                        <VBox spacing="6.0">
                                            <children>
                                                <Label styleClass="label-field" text="EMAIL / SĐT" />
                                                <HBox fx:id="boxEmail" alignment="CENTER_LEFT" prefHeight="50.0" styleClass="input-group">
                                                    <children>
                                                        <SVGPath content="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" scaleX="1.2" scaleY="1.2" styleClass="icon-gray" />
                                                        <TextField fx:id="txtForgotEmail" promptText="admin@coffee.com" styleClass="text-input" HBox.hgrow="ALWAYS">
                                                            <HBox.margin>
                                                                <Insets left="10.0" />
                                                            </HBox.margin>
                                                        </TextField>
                                                    </children>
                                                </HBox>
                                            </children>
                                        </VBox>

                                        <HBox style="-fx-background-color: #EFF6FF; -fx-background-radius: 8; -fx-padding: 12;">
                                            <children>
                                                <Label style="-fx-font-size: 11px; -fx-text-fill: #3B82F6; -fx-font-weight: bold;" text="* Mật khẩu mới sẽ được gửi về email của bạn." wrapText="true" />
                                            </children>
                                        </HBox>

                                        <Button maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleSendRequest" styleClass="btn-secondary" text="GỬI YÊU CẦU" />
                                        <Button maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showLoginForm" styleClass="btn-back" text="← QUAY LẠI" />
                                    </children>
                                </VBox>
                            </children>
                        </StackPane>
                    </children>
                </VBox>
            </children>
        </StackPane>

        <HBox alignment="CENTER" layoutY="730.0" AnchorPane.bottomAnchor="20.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
            <children>
                <Label style="-fx-text-fill: #94A3B8; -fx-font-weight: bold; -fx-font-size: 12px;" text="Hỗ trợ kỹ thuật: " />
                <Label style="-fx-text-fill: #4A90E2; -fx-font-weight: bold; -fx-font-size: 12px; -fx-cursor: hand;" text="1900 xxxx" />
            </children>
        </HBox>
    </children>
</AnchorPane>