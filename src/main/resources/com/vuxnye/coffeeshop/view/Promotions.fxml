<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>

<BorderPane prefHeight="800.0" prefWidth="1040.0" styleClass="root" stylesheets="@../css/style.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.vuxnye.coffeeshop.controller.PromotionsController">

    <top>
        <VBox spacing="20.0" BorderPane.alignment="CENTER">
            <padding>
                <Insets bottom="20.0" left="30.0" right="30.0" top="30.0" />
            </padding>
            <children>
                <HBox alignment="CENTER_LEFT" spacing="20.0">
                    <children>
                        <VBox>
                            <children>
                                <Label style="-fx-font-size: 24px; -fx-font-weight: 900; -fx-text-fill: #1e293b;" text="Quản lý khuyến mãi" />
                                <Label style="-fx-text-fill: #64748B; -fx-font-weight: bold; -fx-font-size: 13px;" text="Thiết lập các mã giảm giá và chương trình ưu đãi" />
                            </children>
                        </VBox>
                        <Pane HBox.hgrow="ALWAYS" />

                        <Button onAction="#handleOpenAddModal" styleClass="btn-secondary" text="+ Tạo mã mới" />
                    </children>
                </HBox>

                <HBox alignment="CENTER_LEFT" styleClass="search-bar" maxWidth="600">
                    <children>
                        <SVGPath content="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#94a3b8" scaleX="0.8" scaleY="0.8" />
                        <TextField fx:id="txtSearch" promptText="Tìm theo tên hoặc mã giảm giá..." styleClass="search-field" HBox.hgrow="ALWAYS" />
                    </children>
                </HBox>
            </children>
        </VBox>
    </top>

    <center>
        <VBox style="-fx-background-color: white; -fx-background-radius: 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 10, 0, 0, 0);" BorderPane.alignment="CENTER">
            <children>
                <TableView fx:id="tblPromotions" styleClass="custom-table" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colName" prefWidth="200.0" text="Chương trình" />

                        <TableColumn fx:id="colCode" prefWidth="120.0" style="-fx-alignment: CENTER;" text="Mã Code" />

                        <TableColumn fx:id="colType" prefWidth="130.0" text="Loại" />
                        <TableColumn fx:id="colValue" prefWidth="110.0" style="-fx-alignment: CENTER-RIGHT;" text="Giá trị" />
                        <TableColumn fx:id="colDuration" prefWidth="170.0" style="-fx-alignment: CENTER;" text="Thời hạn" />
                        <TableColumn fx:id="colStatus" prefWidth="120.0" style="-fx-alignment: CENTER;" text="Trạng thái" />
                        <TableColumn fx:id="colAction" prefWidth="150.0" style="-fx-alignment: CENTER-RIGHT;" text="Thao tác" />
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                    <VBox.margin>
                        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                    </VBox.margin>
                </TableView>
            </children>
            <BorderPane.margin>
                <Insets bottom="30.0" left="30.0" right="30.0" />
            </BorderPane.margin>
        </VBox>
    </center>
</BorderPane>